{
    "contents" : "# test\n\n# This shows the zscored dispersion and zscored proportions, standardized with subjects within sessions, across blocks. \n\nprod.data <- ddply(prod.data, c(\"subj\", \"session\"), transform, z.in.dispersion = scale(in.dispersion))\n\n\nd.summary <- summarySE(prod.data[which(!(prod.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.in.dispersion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.in.dispersion = z.in.dispersion - z.in.dispersion[block==1])\nggplot(d.summary, aes(x=as.factor(block), y=cz.in.dispersion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.in.dispersion-se, ymax=cz.in.dispersion+se),\n                               width=.2)              # Width of the error bars\n\n\n\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\", \"session\"), transform, z.proportion = scale(proportion))\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary, aes(x=as.factor(block), y=cz.proportion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n# doing the same as above, but classifying participants according to whether or not they were more compensators or followers.\n\n\n\nwith(prod.data[prod.data$session==\"YesPert\",], tapply(compensation.dispersion, list(subj,block), mean))\n\n\npd1 <- summarySE(prod.data[prod.data$session==\"YesPert\",], measurevar=\"in.dispersion\", groupvars=c(\"subj\",\"block\"))\npd1 <- ddply(pd1, c(\"subj\"), transform, c.in.dispersion = in.dispersion - in.dispersion[block==1])\n\n\n\npd1$compensation.block <- ifelse(pd1$c.in.dispersion > 0, \"greater\", \"lesser\")\npd1$compensation.session <- \"unclear\"\nfor(subj in levels(pd1$subj)){\n  if((pd1$compensation.b[pd1$subj==subj & pd1$block ==3] == \"greater\") & \n       (pd1$compensation.b[pd1$subj==subj & pd1$block ==4] == \"greater\")){\n    pd1$compensation.session[pd1$subj==subj] <- \"compensator\"\n  }\n  if((pd1$compensation.b[pd1$subj==subj & pd1$block ==3] == \"lesser\") & \n    (pd1$compensation.b[pd1$subj==subj & pd1$block ==4] == \"lesser\")){\n    pd1$compensation.session[pd1$subj==subj] <- \"follower\"\n  }\n}\n\n\nprod.data <- merge(prod.data, pd1[,c('subj', 'block', 'compensation.block', 'compensation.session')], by=c('subj', 'block'))\n\nident.summarized.data <- merge(ident.summarized.data, pd1[,c('subj', 'block', 'compensation.block', 'compensation.session')], by=c('subj', 'block'), all.x=T)\n\n\nxtabs(~subj+compensation.session, pd1)\n\n\ncompensators <- c('10', '14', '17', '27', '29')\nfollowers <- c('12', '15', '16', '20', '23', '3', '6', '8') # though we will leave out '3' since that is an older adult.\nfollowers <- c('12', '15', '16', '20', '23', '6', '8')\nunclears <- c('11', '13', '22', '24', '25', '26', '28', '30', '31', '32', '4', '5', '7', '9') # leave out 4,5,24,25,26\nunclears <- c('11', '13', '22', '28', '30', '31', '32', '7', '9') \n\n\n\nd.summary <- summarySE(prod.data[which(!(prod.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.in.dispersion\", groupvars=c(\"session\", \"block\", \"compensation.block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.in.dispersion = z.in.dispersion - z.in.dispersion[block==1])\nggplot(d.summary[d.summary$session==\"YesPert\",], aes(x=as.factor(block), y=cz.in.dispersion, colour=compensation.block,group=compensation.block))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.in.dispersion-se, ymax=cz.in.dispersion+se),\n                               width=.2)              # Width of the error bars\n\nd.summary <- summarySE(prod.data[which(!(prod.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.in.dispersion\", groupvars=c(\"session\", \"block\", \"compensation.session\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.in.dispersion = z.in.dispersion - z.in.dispersion[block==1])\nggplot(d.summary[d.summary$session==\"YesPert\",], aes(x=as.factor(block), y=cz.in.dispersion, colour=compensation.session,group=compensation.session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.in.dispersion-se, ymax=cz.in.dispersion+se),\n                               width=.2)              # Width of the error bars\n\n\n\n\n\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\", \"session\"), transform, z.proportion = scale(proportion))\n\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\", \"compensation.block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary[d.summary$session==\"YesPert\",], aes(x=as.factor(block), y=cz.proportion, colour=compensation.block,group=compensation.block))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\nggplot(d.summary[d.summary$session==\"NoPert\",], aes(x=as.factor(block), y=cz.proportion, colour=compensation.block,group=compensation.block))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\", \"compensation.session\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary[d.summary$session==\"YesPert\",], aes(x=as.factor(block), y=cz.proportion, colour=compensation.session,group=compensation.session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\", \"compensation.session\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary[d.summary$session==\"NoPert\",], aes(x=as.factor(block), y=cz.proportion, colour=compensation.session,group=compensation.session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"proportion\", groupvars=c(\"session\", \"block\", \"compensation.block\"))\n\nggplot(d.summary[d.summary$session==\"YesPert\",], aes(x=as.factor(block), y=proportion, colour=compensation.block,group=compensation.block))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=proportion-se, ymax=proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"proportion\", groupvars=c(\"session\", \"block\", \"compensation.session\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary[d.summary$session==\"NoPert\",], aes(x=as.factor(block), y=cz.proportion, colour=compensation.session,group=compensation.session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\",\"subj\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary[d.summary$session==\"YesPert\",], aes(x=as.factor(block), y=cz.proportion, colour=subj,group=subj))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n\n\n\n# compensators\n\nd.summary <- summarySE(prod.data[which((prod.data$subj %in% compensators)),], measurevar=\"z.in.dispersion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.in.dispersion = z.in.dispersion - z.in.dispersion[block==1])\nggplot(d.summary, aes(x=as.factor(block), y=cz.in.dispersion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.in.dispersion-se, ymax=cz.in.dispersion+se),\n                               width=.2)              # Width of the error bars\n\n\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\", \"session\"), transform, z.proportion = scale(proportion))\n\nd.summary <- summarySE(ident.summarized.data[which((ident.summarized.data$subj %in% compensators)),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary, aes(x=as.factor(block), y=cz.proportion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n# followers\n\n\n\nd.summary <- summarySE(prod.data[which((prod.data$subj %in% followers)),], measurevar=\"z.in.dispersion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.in.dispersion = z.in.dispersion - z.in.dispersion[block==1])\nggplot(d.summary, aes(x=as.factor(block), y=cz.in.dispersion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.in.dispersion-se, ymax=cz.in.dispersion+se),\n                               width=.2)              # Width of the error bars\n\n\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\", \"session\"), transform, z.proportion = scale(proportion))\n\nd.summary <- summarySE(ident.summarized.data[which((ident.summarized.data$subj %in% followers)),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary, aes(x=as.factor(block), y=cz.proportion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n\n# unclears\n\nd.summary <- summarySE(prod.data[which((prod.data$subj %in% unclears)),], measurevar=\"z.in.dispersion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.in.dispersion = z.in.dispersion - z.in.dispersion[block==1])\nggplot(d.summary, aes(x=as.factor(block), y=cz.in.dispersion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.in.dispersion-se, ymax=cz.in.dispersion+se),\n                               width=.2)              # Width of the error bars\n\n\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\", \"session\"), transform, z.proportion = scale(proportion))\n\nd.summary <- summarySE(ident.summarized.data[which((ident.summarized.data$subj %in% unclears)),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary, aes(x=as.factor(block), y=cz.proportion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n\n## so this doesn't seem to work that great, and we get weird results... I am going to consider each block by whether compensation was greater or lesser.\n\n\n\n\n\n\n\n\n\n\n# examine same zscores, but with participants. \n\n# This shows the zscored dispersion and zscored proportions, standardized within subjects within sessions, across blocks. \n\nprod.data <- ddply(prod.data, c(\"subj\", \"session\"), transform, z.in.dispersion = scale(in.dispersion))\npd1 <- summarySE(prod.data[which(!(prod.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.in.dispersion\", groupvars=c(\"subj\", \"session\", \"block\"))\n\n\n\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\", \"session\"), transform, z.proportion = scale(proportion))\nid1 <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.proportion\", groupvars=c(\"subj\", \"session\", \"block\"))\n\nplot(with(pd1[pd1$session=='NoPert',], tapply(z.in.dispersion, list(session, block), mean))[1,], \n     with(id1[id1$session=='NoPert' & id1$block!=0,], tapply(z.proportion, list(session, block), mean))[1,])\n\n\nplot(with(pd1[pd1$session=='YesPert',], tapply(z.in.dispersion, list(session, block), mean))[2,], \n     with(id1[id1$session=='YesPert' & id1$block!=0,], tapply(z.proportion, list(session, block), mean))[2,])\n\n\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\"), transform, z.proportion = scale(proportion))\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary, aes(x=as.factor(block), y=cz.proportion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n\n\n\n\nprod.data <- ddply(prod.data, c(\"subj\"), transform, z.in.dispersion = scale(in.dispersion))\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\", \"session\"), transform, z.proportion = scale(proportion))\n\n\nd.summary <- summarySE(prod.data[which(!(prod.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.in.dispersion\", groupvars=c(\"session\", \"block\"))\n\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.in.dispersion = z.in.dispersion - z.in.dispersion[block==1])\nggplot(d.summary, aes(x=as.factor(block), y=cz.in.dispersion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.in.dispersion-se, ymax=cz.in.dispersion+se),\n                               width=.2)              # Width of the error bars\n\n\n\n\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"z.proportion\", groupvars=c(\"session\", \"block\"))\nd.summary <- ddply(d.summary, c(\"session\"), transform, cz.proportion = z.proportion - z.proportion[block==0])\n\nggplot(d.summary, aes(x=as.factor(block), y=cz.proportion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.proportion-se, ymax=cz.proportion+se),\n                               width=.2)+scale_y_reverse()       # Width of the error bars\n\n\n\n\n#\n\n\nident.summarized.data <- ddply(ident.summarized.data, c(\"subj\"), transform, z.proportion = scale(proportion))\n\n\nd.summary <- summarySE(ident.summarized.data[which(!(ident.summarized.data$subj %in% c(3,4,5,24,25,26))) & ident.summarized.data$session==\"YesPert\",], measurevar=\"z.centered.proportion\", groupvars=c(\"block\" \"session\"))\nggplot(d.summary, aes(x=as.factor(block), y=z.proportion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=z.proportion-se, ymax=z.proportion+se),\n                               width=.2)      # Width of the error bars\n\n\n\nd.summary <- summarySE(prod.summarized.data[which(!(prod.summarized.data$subj %in% c(3,4,5,24,25,26))),], measurevar='centered.in.dispersion', groupvars=c('session', 'block', 'subj'))\nggplot(d.summary, aes(x=as.factor(block), y=centered.in.dispersion, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=centered.in.dispersion-se, ymax=centered.in.dispersion+se),\n                               width=.2)      # Width of the error bars\nd.summary$z.centered.in.dispersion <- scale(d.summary$centered.in.dispersion)\n\n\n#####################################################\n\nid1 <- summarySE(ident.data[which(!(ident.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"response\", groupvars=c(\"subj\",\"block\",\"session\"))\n\n\n\nid1 <- ddply(id1, c(\"subj\", \"session\"), transform, c.response=response-response[block==0])\nid1 <- ddply(id1, c(\"subj\"), transform, cz.response = scale(c.response, center=F))\nid2 <- summarySE(id1, measurevar='cz.response', groupvars=c('subj','session', 'block'))\n\n\nggplot(id1, aes(x=as.factor(block), y=cz.response, colour=session,group=session))+\n  geom_line()+\n  geom_point()+  geom_errorbar(aes(ymin=cz.response-se, ymax=cz.response+se),\n                               width=.2)      # Width of the error bars\n\n\n\npd1 <- summarySE(prod.data[which(!(prod.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"in.dispersion\", groupvars=c(\"subj\",\"block\",\"session\"))\n\n\n\n\n\n\npd1 <- summarySE(prod.data[which(!(prod.data$subj %in% c(3,4,5,24,25,26))),], measurevar=\"in.f2.50\", groupvars=c(\"subj\",\"block\",\"session\"))\n\n\n\n\npd1 <- ddply(pd1, c(\"subj\", \"session\"), transform, c.f2=in.f2.50-in.f2.50[block==1])\npd1 <- ddply(pd1, c(\"subj\", \"session\"), transform, cz.f2 = scale(c.f2, center=F))\npd1 <- ddply(pd1, c(\"subj\", \"session\"), transform, compensation = ifelse(c.f2 < c.f2[block==1], \"lesser\", \"greater\"))\n\n\nd1 <- summarySE(id1, measurevar='response', groupvars=c('subj', 'session', 'block'))\nd2 <- unique(pd1[,c(\"subj\",\"block\",\"session\",\"compensation\")])\nd3 <- merge(d1,d2, by=c(\"subj\",\"block\",\"session\"))\nd4 <- summarySE(d3, measurevar='response',groupvars=c('session','block','compensation'))\n\ng1 <- ggplot(d4[which(d4$session==\"NoPert\"),], aes(x=as.factor(block), y=response,fill=compensation))+\n  geom_bar(position=position_dodge(), stat=\"identity\")+\n  geom_errorbar(aes(ymin=response-se, ymax=response+se),\n                width=.2,position=position_dodge(.9))\ng2 <- ggplot(d4[which(d4$session==\"YesPert\"),], aes(x=as.factor(block), y=response, fill=compensation))+\n  geom_bar(position=position_dodge(), stat=\"identity\")+\n  geom_errorbar(aes(ymin=response-se, ymax=response+se),\n                width=.2,position=position_dodge(.9))\n\nmultiplot(g1, g2, cols=2)\n\n\n\n",
    "created" : 1416316719934.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "403447196",
    "id" : "9B76AD8D",
    "lastKnownWriteTime" : 1416585268,
    "path" : "U:/Projects/git_projects/see_she_expr/see_she_expr_analysis_1/weird_idea.R",
    "project_path" : "weird_idea.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}